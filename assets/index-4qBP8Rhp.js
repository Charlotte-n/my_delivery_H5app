import{d as e,n as a,W as s,r,o as l,X as o,c as t,f as d,e as i,w as p,F as u,b as m,u as n,x as f,t as j,E as _,p as g,h as c,_ as h}from"./index-mV6jAJcw.js";import{E as V}from"./el-overlay-tSZoF26B.js";import{E as b,a as x}from"./el-form-item-WlAlU-kO.js";import{E as v}from"./el-input-137cgbrJ.js";import{H as y}from"./index-okJDoi3n.js";import{f as k}from"./user-6cLxAl33.js";import{u as U}from"./position-Q-d2mI4y.js";import{b as E,c as q}from"./pullDown-_P2zCMiU.js";import"./vnode-cHJ0DHGx.js";import"./icon-LIJ6PI4v.js";import"./index-HC5mE-n5.js";import"./get-LVbWSPPF.js";import"./focus-trap-3BigVCSW.js";import"./aria-ClGo7ZJR.js";import"./isNil-csfYP8KJ.js";import"./event-DkVV3hnh.js";import"./index-nURT9tW6.js";import"./index-W_5ooPIQ.js";import"./use-global-config-cR9LpW4d.js";import"./index-s902GNGE.js";import"./error-lyDbv7Kx.js";import"./index--GzJcAF9.js";import"./constants-JSdZFONt.js";import"./use-form-item-FRAiQ2_E.js";import"./index-yz0OpbAC.js";import"./typescript-fEetNX7U.js";import"./index-fssVXj-i.js";const w=(e=>(g("data-v-91c07411"),e=e(),c(),e))((()=>d("span",null,"新增地址",-1))),C={class:"form"},D={class:"btn"},F=h(e({__name:"index",setup(e){const g=U(),c=a(),h=()=>{history.go(-1)},F=s({name:"",address:"",address_detail:"",phone:"",phone_bk:""}),H=s({geohash:g.geohash,user_id:c.userInfo.user_id,tag:"家",sex:2}),I=r(),N=(e,a)=>{/^1[3456789]\d{9}$/.test(e)?a():a(new Error("请输入正确的手机格式"))},O=s({name:[{required:!0,message:"请输入收货人姓名",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],address_detail:[{required:!0,message:"请输入详细地址",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:N,trigger:"blur"}],phone_bk:[{required:!0,message:"请输入备用手机号码",trigger:"blur"},{validator:N,trigger:"blur"}]}),T=r(!1),W=r(""),X=()=>{};return l((()=>{E(X)})),o((()=>{q(X)})),(e,a)=>{const s=_,r=v,l=x,o=b,g=V;return m(),t(u,null,[d("header",null,[i(y,null,{first:p((()=>[i(s,{size:"25",onClick:h},{default:p((()=>[i(n(f))])),_:1})])),second:p((()=>[w])),_:1})]),d("main",null,[d("div",C,[i(o,{ref_key:"formRef",ref:I,rules:O,model:F},{default:p((()=>[i(l,{prop:"name"},{default:p((()=>[i(r,{type:"text",placeholder:"请填写你的姓名",modelValue:F.name,"onUpdate:modelValue":a[0]||(a[0]=e=>F.name=e)},null,8,["modelValue"])])),_:1}),i(l,{prop:"address"},{default:p((()=>[i(r,{type:"text",placeholder:"小区/写字楼/学校等",modelValue:F.address,"onUpdate:modelValue":a[1]||(a[1]=e=>F.address=e)},null,8,["modelValue"])])),_:1}),i(l,{prop:"address_detail"},{default:p((()=>[i(r,{type:"text",placeholder:"请填写详细的送餐地址",modelValue:F.address_detail,"onUpdate:modelValue":a[2]||(a[2]=e=>F.address_detail=e)},null,8,["modelValue"])])),_:1}),i(l,{prop:"phone"},{default:p((()=>[i(r,{type:"text",placeholder:"请填写能够联系到您的手机",modelValue:F.phone,"onUpdate:modelValue":a[3]||(a[3]=e=>F.phone=e)},null,8,["modelValue"])])),_:1}),i(l,{prop:"phone_bk"},{default:p((()=>[i(r,{type:"text",placeholder:"备用联系电话(选填)",modelValue:F.phone_bk,"onUpdate:modelValue":a[4]||(a[4]=e=>F.phone_bk=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","model"])]),d("div",D,[d("button",{class:"add_address",onClick:a[5]||(a[5]=e=>{var a;(a=I.value)&&a.validate((async e=>{if(!e)return!1;0===(await k(Object.assign(H,F))).status&&(T.value=!0)}))})}," 新增地址 ")])]),i(g,{modelValue:T.value,"onUpdate:modelValue":a[6]||(a[6]=e=>T.value=e),title:"Tips",width:"80%"},{default:p((()=>[d("span",null,j(W.value),1)])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-91c07411"]]);export{F as default};
