import{d as e,l as a,W as s,r,c as l,f as o,e as t,w as d,F as i,b as p,u,v as m,t as n,E as f,p as j,h as _,_ as g}from"./index-ezaKyRUM.js";import{E as c}from"./el-overlay-1KXYm77r.js";import{E as h,a as V}from"./el-form-item-obulKQ-f.js";import{E as b}from"./el-input-EsMouW1a.js";import{H as v}from"./index-B0F8CFXd.js";import{f as x}from"./user-tJDYPP4E.js";import{u as y}from"./position-fkMBjUqq.js";import"./vnode-R4e91E5d.js";import"./icon-P9s6K0ZF.js";import"./index-y0F2KAOy.js";import"./get-bkzyVv_4.js";import"./isObject-QEGFV2bT.js";import"./focus-trap-DgoFxQW7.js";import"./aria-ClGo7ZJR.js";import"./isNil-csfYP8KJ.js";import"./event-DkVV3hnh.js";import"./index-zz84WgLh.js";import"./index-4Q4EsjFn.js";import"./use-global-config-NwH93UbI.js";import"./index-bVoBTCc4.js";import"./error-lyDbv7Kx.js";import"./index-UxtcFsd7.js";import"./constants-JSdZFONt.js";import"./use-form-item-IU14fyLG.js";import"./index-eL0_fwGT.js";import"./typescript-fEetNX7U.js";import"./index-Li4iQ5F3.js";const k=(e=>(j("data-v-384d9562"),e=e(),_(),e))((()=>o("span",null,"新增地址",-1))),U={class:"form"},E={class:"btn"},q=g(e({__name:"index",setup(e){const j=y(),_=a(),g=()=>{history.go(-1)},q=s({name:"",address:"",address_detail:"",phone:"",phone_bk:""}),w=s({geohash:j.geohash,user_id:_.userInfo.user_id,tag:"家",sex:2}),I=r(),O=(e,a)=>{/^1[3456789]\d{9}$/.test(e)?a():a(new Error("请输入正确的手机格式"))},C=s({name:[{required:!0,message:"请输入收货人姓名",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],address_detail:[{required:!0,message:"请输入详细地址",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:O,trigger:"blur"}],phone_bk:[{required:!0,message:"请输入备用手机号码",trigger:"blur"},{validator:O,trigger:"blur"}]}),H=r(!1),N=r("");return(e,a)=>{const s=f,r=b,j=V,_=h,y=c;return p(),l(i,null,[o("header",null,[t(v,null,{first:d((()=>[t(s,{size:"25",onClick:g},{default:d((()=>[t(u(m))])),_:1})])),second:d((()=>[k])),_:1})]),o("main",null,[o("div",U,[t(_,{ref_key:"formRef",ref:I,rules:C,model:q},{default:d((()=>[t(j,{prop:"name"},{default:d((()=>[t(r,{type:"text",placeholder:"请填写你的姓名",modelValue:q.name,"onUpdate:modelValue":a[0]||(a[0]=e=>q.name=e)},null,8,["modelValue"])])),_:1}),t(j,{prop:"address"},{default:d((()=>[t(r,{type:"text",placeholder:"小区/写字楼/学校等",modelValue:q.address,"onUpdate:modelValue":a[1]||(a[1]=e=>q.address=e)},null,8,["modelValue"])])),_:1}),t(j,{prop:"address_detail"},{default:d((()=>[t(r,{type:"text",placeholder:"请填写详细的送餐地址",modelValue:q.address_detail,"onUpdate:modelValue":a[2]||(a[2]=e=>q.address_detail=e)},null,8,["modelValue"])])),_:1}),t(j,{prop:"phone"},{default:d((()=>[t(r,{type:"text",placeholder:"请填写能够联系到您的手机",modelValue:q.phone,"onUpdate:modelValue":a[3]||(a[3]=e=>q.phone=e)},null,8,["modelValue"])])),_:1}),t(j,{prop:"phone_bk"},{default:d((()=>[t(r,{type:"text",placeholder:"备用联系电话(选填)",modelValue:q.phone_bk,"onUpdate:modelValue":a[4]||(a[4]=e=>q.phone_bk=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","model"])]),o("div",E,[o("button",{class:"add_address",onClick:a[5]||(a[5]=e=>{var a;(a=I.value)&&a.validate((async e=>{if(!e)return!1;0===(await x(Object.assign(w,q))).status&&(H.value=!0)}))})}," 新增地址 ")])]),t(y,{modelValue:H.value,"onUpdate:modelValue":a[6]||(a[6]=e=>H.value=e),title:"Tips",width:"80%"},{default:d((()=>[o("span",null,n(N.value),1)])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-384d9562"]]);export{q as default};
