import{d as e,r as a,o as s,c as l,f as o,e as t,w as r,l as i,ac as n,m as c,F as d,b as u,u as p,x as m,k as v,p as f,h as j,E as x,_}from"./index-mV6jAJcw.js";import{E as h}from"./el-button-eZlVaTAW.js";import{E as w,a as y}from"./el-switch-rCtyXTdC.js";import{H as g}from"./index-okJDoi3n.js";import{g as k,a as V}from"./user-6cLxAl33.js";import"./index--GzJcAF9.js";import"./use-global-config-cR9LpW4d.js";import"./index-HC5mE-n5.js";import"./get-LVbWSPPF.js";import"./index-nURT9tW6.js";import"./index-s902GNGE.js";import"./use-form-item-FRAiQ2_E.js";import"./constants-JSdZFONt.js";import"./index-W_5ooPIQ.js";import"./icon-LIJ6PI4v.js";import"./index-s6KMGca5.js";import"./event-DkVV3hnh.js";import"./error-lyDbv7Kx.js";import"./index-yz0OpbAC.js";import"./typescript-fEetNX7U.js";import"./aria-ClGo7ZJR.js";import"./index-fssVXj-i.js";const b={class:"form"},C={class:"form-item"},U={key:0,class:"username_warning"},E={class:"password form-item"},z={key:1,class:"password_warning"},F={class:"verify_code"},H={class:"code"},P={class:"code_img"},D=["src"],G=(e=>(f("data-v-656b7ae5"),e=e(),j(),e))((()=>o("span",null,"看不清",-1))),I={key:2,class:"code_warning"},L={class:"login"},M=_(e({__name:"index",setup(e){const f=a(!1),j=a(),_=()=>{f.value?j.value.type="text":j.value.type="password"},M=()=>{history.go(-1)},N=a({}),O=async()=>{const e=await k();N.value=e},Q=a({username:"",password:"",captcha_code:""}),R=a(!1),T=a(!1),W=a(!1),q=a(0),A=async()=>{if(""===Q.value.username&&(R.value=!0,q.value=1),""===Q.value.password&&(T.value=!0,q.value=1),""===Q.value.captcha_code&&(W.value=!0,q.value=1),1!==q.value)try{(await V(Q.value)).status}catch(e){w({message:"登录失败",type:"error"})}};return s((()=>{O()})),(e,a)=>{const s=x,w=y,k=h;return u(),l(d,null,[o("header",null,[t(g,null,{first:r((()=>[t(s,{size:"20",onClick:M},{default:r((()=>[t(p(m))])),_:1})])),second:r((()=>[v(" 密码登录 ")])),_:1})]),o("form",b,[o("div",C,[i(o("input",{type:"text",placeholder:"账号","onUpdate:modelValue":a[0]||(a[0]=e=>Q.value.username=e)},null,512),[[n,Q.value.username]])]),R.value?(u(),l("div",U," 请输入账号 ")):c("",!0),o("div",E,[i(o("input",{type:"password",placeholder:"密码",ref_key:"handlePassword",ref:j,"onUpdate:modelValue":a[1]||(a[1]=e=>Q.value.password=e)},null,512),[[n,Q.value.password]]),t(w,{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=e=>f.value=e),class:"ml-2",size:"large","inline-prompt":"",style:{"--el-switch-on-color":"#ff692f","--el-switch-off-color":"#ccc"},"active-text":"隐藏密码","inactive-text":"显示密码",onChange:_},null,8,["modelValue"])]),T.value?(u(),l("div",z," 请输入密码 ")):c("",!0),o("div",F,[i(o("input",{type:"text",placeholder:"验证码","onUpdate:modelValue":a[3]||(a[3]=e=>Q.value.captcha_code=e),maxlength:"4"},null,512),[[n,Q.value.captcha_code]]),o("div",H,[o("div",P,[o("img",{src:N.value.code,alt:""},null,8,D)]),o("div",{class:"change_code"},[G,o("span",{onClick:O},"换一张")])])]),W.value?(u(),l("div",I,"请输入验证码")):c("",!0)]),o("div",L,[t(k,{onClick:A},{default:r((()=>[v("登录")])),_:1})])],64)}}}),[["__scopeId","data-v-656b7ae5"]]);export{M as default};
