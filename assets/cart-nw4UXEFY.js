import{aH as t,r as e}from"./index-zZAhMCbv.js";const r=t("CartStore",(()=>{const t=e({});return{cartItems:t,CartList:e=>t.value[e],clearCart:e=>{t.value[String(e)]=[]},removeCartData:e=>{const r=t.value;Object.keys(r).find((t=>{t===String(e.restaurant_id)&&r[t].find(((i,o)=>(e.specfoods&&i.food_id===(null==e?void 0:e.specfoods[0].food_id)||(i.food_id,null==e||e.food_id),1==i.count?(r[t].splice(o,1),!0):(i.count--,!0))))}))},changeCartData:(e,r)=>{let i={};i=e.specfoods?{restaurant_id:e.restaurant_id,category_id:e.category_id,item_id:e.item_id,food_id:e.specfoods[r].food_id,name:e.name,price:e.specfoods[r].price,specs:e.specfoods[r].specs,count:1}:{restaurant_id:e.restaurant_id,category_id:e.category_id,item_id:e.item_id,food_id:e.food_id,name:e.name,price:e.price,specs:e.specs,count:1};const o=t.value;Object.keys(o).find((t=>{let e=0;return t===String(i.restaurant_id)&&o[t].find((t=>{if(t.food_id===i.food_id)return e=1,t.count++,!0})),0!=e}))||(o[String(i.restaurant_id)]?o[String(i.restaurant_id)]=[i,...o[String(i.restaurant_id)]]:o[String(i.restaurant_id)]=[i])}}}));export{r as u};
